<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

    <div id="kontainer-produk-jagel">Memuat data...</div>

    <script>
        async function ambilData() {
            const container = document.getElementById('kontainer-produk-jagel');
            
            // Menggunakan link RAW agar data terbaca sebagai teks murni
            const url = "https://fontawesomee.github.io/Ekohadiwibowo.js";

            try {
                const response = await fetch(url);
                const text = await response.text();
                
                // Membersihkan teks variabel agar menjadi JSON murni
                // Menghapus 'var data =' di awal dan ';' di akhir
                const jsonString = text.replace(/var\s+data\s+=\s+/, '').replace(/;$/, '');
                const produkArray = JSON.parse(jsonString);

                if (Array.isArray(produkArray)) {
                    container.innerHTML = ""; 
                    produkArray.forEach(item => {
                        const card = document.createElement('div');
                        card.style.marginBottom = "20px";
                        card.innerHTML = `
                            <img src="${item.gambar}" style="width:100%; max-width:150px; border-radius:5px;">
                            <h3>${item.nama}</h3>
                            <p>Harga: ${item.harga}</p>
                            <hr>
                        `;
                        container.appendChild(card);
                    });
                }
            } catch (error) {
                container.innerHTML = "Gagal memproses data. Pastikan format file .js benar. <br> Error: " + error;
            }
        }

        ambilData();
    </script>
</body>
</html>
