<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div id="kontainer-produk-jagel">Sedang memproses data...</div>

    <script>
        async function ambilData() {
            const container = document.getElementById('kontainer-produk-jagel');
            const url = "https://fontawesomee.github.io/Ekohadiwibowo.js";

            try {
                const response = await fetch(url);
                let text = await response.text();
                
                // 1. CARI POSISI AWAL DAN AKHIR ARRAY [ ]
                const awal = text.indexOf('[');
                const akhir = text.lastIndexOf(']') + 1;
                
                if (awal !== -1 && akhir !== -1) {
                    // 2. AMBIL HANYA BAGIAN DALAM KURUNG SIKU
                    const jsonMurni = text.substring(awal, akhir);
                    
                    // 3. UBAH KE OBJECT
                    const produkArray = JSON.parse(jsonMurni);

                    if (produkArray.length > 0) {
                        container.innerHTML = ""; 
                        produkArray.forEach(item => {
                            const card = document.createElement('div');
                            card.style.cssText = "border-bottom:1px solid #eee; padding:15px; margin-bottom:10px;";
                            card.innerHTML = `
                                <img src="${item.gambar}" style="width:100%; max-width:180px; border-radius:8px;">
                                <h3 style="margin:10px 0 5px 0;">${item.nama}</h3>
                                <p style="color:#2ecc71; font-weight:bold; margin:0;">Rp ${item.harga}</p>
                                <p style="font-size:13px; color:#777;">${item.deskripsi}</p>
                            `;
                            container.appendChild(card);
                        });
                    }
                } else {
                    container.innerHTML = "Format Array [ ] tidak ditemukan di file .js";
                }
            } catch (error) {
                container.innerHTML = "Sistem gagal membaca format file. <br> Pesan: " + error.message;
            }
        }
        ambilData();
    </script>
</body>
</html>
